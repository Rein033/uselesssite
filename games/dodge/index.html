<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DODGE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body{margin:0;background:#000;color:#fff;font-family:'Press Start 2P',cursive;overflow:hidden}
#score{position:fixed;top:14px;left:14px;font-size:12px;opacity:.85}
a.back{position:fixed;top:14px;right:14px;font-size:12px;color:#fff;text-decoration:none;opacity:.7}
.player{position:absolute;bottom:40px;left:50%;transform:translateX(-50%);width:60px;height:60px;background:#00ffff;border-radius:10px;box-shadow:0 0 25px #00ffff}
.block{position:absolute;width:40px;height:40px;background:#ff0033;top:-50px;box-shadow:0 0 20px #ff0033}
.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.8);gap:10px}
.overlay h2{margin:0;font-size:18px;color:#ff0033}
.overlay p{margin:0;font-size:12px;opacity:.85}
</style>
</head>
<body>
<div id="score">0</div>
<a href="../../" class="back">EXIT</a>
<div class="player" id="p"></div>
<script>
const p=document.getElementById("p");
const scoreEl=document.getElementById("score");
let px=innerWidth/2, score=0, speed=2.2, alive=true;

function setX(x){
  px=Math.max(20, Math.min(innerWidth-20, x));
  p.style.left=px+"px";
}
addEventListener("mousemove",e=>setX(e.clientX));
addEventListener("touchmove",e=>{ setX(e.touches[0].clientX); }, {passive:true});

function spawn(){
  if(!alive) return;
  const b=document.createElement("div");
  b.className="block";
  b.style.left=(Math.random()*(innerWidth-40))+"px";
  document.body.appendChild(b);
  let y=-50;

  function fall(){
    if(!alive) return;
    y+=speed;
    b.style.top=y+"px";
    const pr=p.getBoundingClientRect();
    const br=b.getBoundingClientRect();
    if(br.bottom>pr.top && br.left<pr.right && br.right>pr.left){
      alive=false;
      gameOver();
      return;
    }
    if(y<innerHeight){
      requestAnimationFrame(fall);
    }else{
      b.remove();
      score++; scoreEl.textContent=score;
      if(score%10===0) speed+=0.5;
    }
  }
  fall();
}
setInterval(spawn, 850);

function gameOver(){
  document.querySelectorAll(".block").forEach(n=>n.remove());
  const o=document.createElement("div");
  o.className="overlay";
  o.innerHTML=`<h2>GAME OVER</h2><p>score: ${score}</p><p>tap to retry</p>`;
  document.body.appendChild(o);
  o.addEventListener("click",()=>location.reload());
}
</script>
</body>
</html>